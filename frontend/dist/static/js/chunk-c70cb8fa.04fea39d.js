(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c70cb8fa"],{"0857":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},n=[],s=a("313e"),r=a.n(s),o=a("a7dc"),l=a("5f87"),c=a("95d5");a("817d");var u={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,listQuery:{token:Object(l["a"])(),year:void 0,month:void 0}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"macarons");var e=new Date;this.listQuery.year=e.getTime(),Object(c["c"])(Object(l["a"])(),e.getFullYear()).then((function(e){t.chart.setOption({title:{text:"月度客流",left:"center"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:e.month,axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:[{name:"月度客流",type:"bar",barWidth:"60%",data:e.data}]})}))}}},d=u,h=a("2877"),p=Object(h["a"])(d,i,n,!1,null,null,null);e["a"]=p.exports},"133c":function(t,e,a){"use strict";a("7c25")},"1de8":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},n=[],s=a("313e"),r=a.n(s),o=a("a7dc"),l=a("5f87"),c=a("95d5"),u=a("ed08"),d=a("85fe");a("817d");var h={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"264px"}},data:function(){return{chart:null,listQuery:{token:void 0,date:void 0,station:"1"},send:""}},watch:{send:function(t,e){console.log("更新后的数据"+this.send),this.listQuery.station=JSON.parse(JSON.stringify(this.send)),console.log("开始执行重构"+this.listQuery.station),this.initChart()}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()})),d["a"].$on("sendStation",(function(e){t.send=e}))},created:function(){this.initChart()},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"macarons"),this.listQuery.token=Object(l["a"])(),this.listQuery.date=Object(u["b"])(new Date,"yyyy-MM-dd"),Object(c["i"])(this.listQuery).then((function(e){t.chart.setOption({title:{text:t.listQuery.station+"的点出入情况",left:"center"},tooltip:{trigger:"axis"},legend:{data:["进站","出站"],left:"left"},toolbox:{show:!0,feature:{dataView:{show:!1,readOnly:!1},magicType:{show:!1,type:["line","bar"]},restore:{show:!1},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:e.hour_list}],yAxis:[{type:"value"}],series:[{name:"进站",type:"bar",data:e.in_list,markPoint:{data:[{type:"max",name:"最大值",value:e.in_max},{type:"min",name:"最小值",value:e.in_min}]},markLine:{data:[{type:"average",name:"平均值",value:e.in_average}]}},{name:"出站",type:"bar",data:e.out_list,markPoint:{data:[{name:"最高",value:e.out_max,xAxis:7,yAxis:183},{name:"最低",value:e.out_min,xAxis:11,yAxis:3}]},markLine:{data:[{type:"average",name:"平均值",value:e.out_average}]}}]})}))}}},p=h,m=a("2877"),f=Object(m["a"])(p,i,n,!1,null,null,null);e["a"]=f.exports},"3cbc":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pan-item",style:{zIndex:t.zIndex,height:t.height,width:t.width}},[a("div",{staticClass:"pan-info"},[a("div",{staticClass:"pan-info-roles-container"},[t._t("default")],2)]),a("div",{staticClass:"pan-thumb",style:{backgroundImage:"url("+t.image+")"}})])},n=[],s=(a("a9e3"),{name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}}),r=s,o=(a("133c"),a("2877")),l=Object(o["a"])(r,i,n,!1,null,"799537af",null);e["a"]=l.exports},"48aa":function(t,e,a){"use strict";a("970b")},"4c5b":function(t,e,a){},"5d07":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},n=[],s=a("313e"),r=a.n(s),o=a("a7dc"),l=a("5f87"),c=a("95d5");a("817d");var u={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,listQuery:{token:void 0,year:void 0,month:void 0,day:void 0},timer:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()})),this.timer=setInterval((function(){setTimeout(t.initChart,0)}),6e5)},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"macarons");var e=new Date,a=e.getDay(),i=e.getMonth()+1;this.listQuery.token=Object(l["a"])(),this.listQuery.year=e.getFullYear(),this.listQuery.month=i<10?"0"+i:i,this.listQuery.day=a<10?"0"+a:a,Object(c["d"])(this.listQuery).then((function(e){t.chart.setOption({title:{text:"实时各站客流",left:"center"},tooltip:{trigger:"axis"},legend:{data:["进站人数","出站人数"],left:"left"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e.label},yAxis:{type:"value"},series:[{name:"进站人数",type:"line",stack:"总量",data:e.in_list},{name:"出站人数",type:"line",stack:"总量",data:e.out_list}]})}))}}},d=u,h=a("2877"),p=Object(h["a"])(d,i,n,!1,null,null,null);e["a"]=p.exports},"7aa4":function(t,e,a){"use strict";a("4c5b")},"7c25":function(t,e,a){},"85fe":function(t,e,a){"use strict";var i=a("2b0e");e["a"]=new i["default"]},9406:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-container"},[a(t.currentRole,{tag:"component"})],1)},n=[],s=a("5530"),r=(a("caad"),a("2532"),a("2f62")),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("panel-group",{on:{handleSetLineChartData:t.handleSetLineChartData}}),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("div",{staticClass:"chart-wrapper"},[a("mean-chart")],1)]),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("div",{staticClass:"chart-wrapper"},[a("predict-chart")],1)]),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1),a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("div",{staticClass:"chart-wrapper"},[a("section-chart")],1)]),a("el-row",{attrs:{gutter:32}},[a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("el-input",{staticStyle:{width:"100px"},attrs:{type:"text",placeholder:"请输入站点"},model:{value:t.station2point,callback:function(e){t.station2point=e},expression:"station2point"}}),a("el-button",{attrs:{type:"primary"},on:{click:t.sendStation2Point}},[t._v(" 确认 ")]),a("point-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("month-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("pie-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("channel-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("raddar-chart")],1)]),a("el-col",{attrs:{xs:24,sm:24,lg:8}},[a("div",{staticClass:"chart-wrapper"},[a("bar-chart")],1)])],1)],1)},l=[],c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("newVisitis")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 站内人数 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.startValAllIn,"end-val":t.endValAllIn,duration:2600}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("messages")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 历史客流总量 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":t.startValHistoricalTravel,"end-val":t.endValHistoricalTravel,duration:3e3}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("purchases")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 当日营运额 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.endValIncome,duration:3200}})],1)])]),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",on:{click:function(e){return t.handleSetLineChartData("shoppings")}}},[a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v(" 当日客流量 ")]),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.endValTodayFlow,duration:3600}})],1)])])],1)},u=[],d=a("ec1b"),h=a.n(d),p=a("5f87"),m=a("95d5"),f=a("ed08"),y={components:{CountTo:h.a},data:function(){return{startValAllIn:0,endValAllIn:0,startValHistoricalTravel:0,endValHistoricalTravel:0,endValIncome:0,endValTodayFlow:0,listQuery:{date:void 0,token:void 0},timer:null}},mounted:function(){var t=this;this.timer=setInterval((function(){setTimeout(t.instation(),0),setTimeout(t.historical(),0),setTimeout(t.todayIncome(),0)}),5e3)},beforeDestroy:function(){clearInterval(this.timer),this.timer=null},created:function(){this.instation(),this.historical(),this.todayIncome()},methods:{handleSetLineChartData:function(t){this.$emit("handleSetLineChartData",t)},instation:function(){var t=this;this.listQuery.token=Object(p["a"])(),this.listQuery.date=Object(f["b"])(new Date,"yyyy-MM-dd"),Object(m["b"])(this.listQuery).then((function(e){t.startValAllIn=0,t.endValAllIn=e.data}))},historical:function(){var t=this;this.listQuery.token=Object(p["a"])(),this.listQuery.date=Object(f["b"])(new Date,"yyyy-MM-dd"),Object(m["e"])(this.listQuery).then((function(e){t.startValHistoricalTravel=0,t.endValHistoricalTravel=e.endVal,t.endValTodayFlow=e.endValNow}))},todayIncome:function(){var t=this;this.listQuery.token=Object(p["a"])(),this.listQuery.date=Object(f["b"])(new Date,"yyyy-MM-dd"),Object(m["j"])(this.listQuery).then((function(e){t.endValIncome=e.income}))}}},v=y,g=(a("48aa"),a("2877")),b=Object(g["a"])(v,c,u,!1,null,"2bdd259a",null),x=b.exports,w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},C=[],_=a("313e"),S=a.n(_),O=a("a7dc");a("817d");var D={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=S.a.init(this.$el,"macarons"),this.setOptions(this.chartData)},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData;this.chart.setOption({xAxis:{data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:10,bottom:20,top:30,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1}},legend:{data:["expected","actual"]},series:[{name:"expected",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"actual",smooth:!0,type:"line",itemStyle:{normal:{color:"#3888fa",lineStyle:{color:"#3888fa",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})}}},V=D,k=Object(g["a"])(V,w,C,!1,null,null,null),$=k.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},A=[];a("817d");var T=3e3,E={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=S.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Technology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:T}]})}}},F=E,N=Object(g["a"])(F,j,A,!1,null,null,null),Q=N.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},I=[];a("817d");var R={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=S.a.init(this.$el,"macarons"),Object(m["k"])(Object(p["a"])()).then((function(e){t.chart.setOption({title:{text:"乘客年龄组成",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"乘客年龄组成",type:"pie",radius:"50%",data:e.data,animationEasing:"cubicInOut",animationDuration:2600}]})}))}}},M=R,L=Object(g["a"])(M,z,I,!1,null,null,null),q=L.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},H=[];a("817d");var B=6e3,W={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=S.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:B},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:B},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:B}]})}}},G=W,Y=Object(g["a"])(G,P,H,!1,null,null,null),J=Y.exports,X=a("ebdd"),Z=a("0857"),K=a("5d07"),U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},tt=[];a("b0c0");a("817d");var et={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,listQuery:{token:void 0,date:void 0}}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=S.a.init(this.$el,"macarons"),this.listQuery.date=Object(f["b"])(new Date,"yyyy-MM-dd"),this.listQuery.token=Object(p["a"])(),Object(m["a"])(this.listQuery).then((function(e){t.chart.setOption({title:{text:"购票渠道占比",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",top:"bottom",data:e.name},toolbox:{show:!0,feature:{saveAsImage:{show:!0}}},series:[{name:"购票方式",type:"pie",radius:[20,110],roseType:"area",itemStyle:{borderRadius:5},data:e.data}]})}))}}},at=et,it=Object(g["a"])(at,U,tt,!1,null,null,null),nt=it.exports,st=a("1de8"),rt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},ot=[];a("817d");var lt={mixins:[O["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null,listQuery:{token:void 0,year:void 0,month:void 0,day:void 0,hour:void 0,minute:void 0,weekday:void 0},timer:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()})),this.timer=setInterval((function(){setTimeout(t.initChart,0)}),6e5)},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null,clearInterval(this.timer),this.timer=null)},methods:{initChart:function(){var t=this;this.chart=S.a.init(this.$el,"macarons");var e=new Date;this.listQuery.token=Object(p["a"])(),this.listQuery.year=e.getFullYear(),this.listQuery.month=e.getMonth()+1,this.listQuery.day=e.getDate(),this.listQuery.hour=e.getHours(),this.listQuery.minute=e.getMinutes(),this.listQuery.weekday=e.getDay(),Object(m["g"])(this.listQuery).then((function(e){t.chart.setOption({title:{text:"预计各站客流",left:"center"},tooltip:{trigger:"axis"},legend:{data:["进站人数","出站人数"],left:"left"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{feature:{saveAsImage:{}}},xAxis:{type:"category",boundaryGap:!1,data:e.label},yAxis:{type:"value"},series:[{name:"进站人数",type:"line",stack:"总量",data:e.in_list},{name:"出站人数",type:"line",stack:"总量",data:e.out_list}]})}))}}},ct=lt,ut=Object(g["a"])(ct,rt,ot,!1,null,null,null),dt=ut.exports,ht=a("85fe"),pt={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},mt={name:"DashboardAdmin",components:{PanelGroup:x,MeanChart:K["a"],LineChart:$,SectionChart:X["a"],RaddarChart:Q,PieChart:q,BarChart:J,MonthChart:Z["a"],ChannelChart:nt,PointChart:st["a"],PredictChart:dt},data:function(){return{lineChartData:pt.newVisitis,station2point:"1"}},methods:{handleSetLineChartData:function(t){this.lineChartData=pt[t]},sendStation2Point:function(){ht["a"].$emit("sendStation",this.station2point)}}},ft=mt,yt=(a("7aa4"),Object(g["a"])(ft,o,l,!1,null,"43c468bc",null)),vt=yt.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:" clearfix"},[a("pan-thumb",{staticStyle:{float:"left"},attrs:{image:t.avatar}},[t._v(" Your roles: "),t._l(t.roles,(function(e){return a("span",{key:e,staticClass:"pan-info-roles"},[t._v(t._s(e))])}))],2),a("div",{staticClass:"info-container"},[a("span",{staticClass:"display_name"},[t._v(t._s(t.name))]),a("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[t._v("Editor's Dashboard")])])],1),a("div",[a("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},bt=[],xt=a("3cbc"),wt={name:"DashboardEditor",components:{PanThumb:xt["a"]},data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:Object(s["a"])({},Object(r["b"])(["name","avatar","roles"]))},Ct=wt,_t=(a("d539"),Object(g["a"])(Ct,gt,bt,!1,null,"28d3a353",null)),St=_t.exports,Ot={name:"Dashboard",components:{adminDashboard:vt,editorDashboard:St},data:function(){return{currentRole:"adminDashboard"}},computed:Object(s["a"])({},Object(r["b"])(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="editorDashboard")}},Dt=Ot,Vt=Object(g["a"])(Dt,i,n,!1,null,null,null);e["default"]=Vt.exports},"95d5":function(t,e,a){"use strict";a.d(e,"k",(function(){return n})),a.d(e,"h",(function(){return s})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return l})),a.d(e,"i",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"b",(function(){return d})),a.d(e,"e",(function(){return h})),a.d(e,"j",(function(){return p})),a.d(e,"g",(function(){return m}));var i=a("b775");function n(t){return Object(i["a"])({url:"/charts/passenger/age",method:"get",params:{token:t}})}function s(t,e){return Object(i["a"])({url:"/charts/route/section",method:"get",params:{token:t,route:e}})}function r(t,e){return Object(i["a"])({url:"/charts/flow/month",method:"get",params:{token:t,year:e}})}function o(t){return Object(i["a"])({url:"/charts/flow/now",method:"get",params:t})}function l(t){return Object(i["a"])({url:"/charts/channel",method:"get",params:t})}function c(t){return Object(i["a"])({url:"/charts/flow/point",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/charts/peak",method:"get",params:t})}function d(t){return Object(i["a"])({url:"/basic/in/station",method:"get",params:t})}function h(t){return Object(i["a"])({url:"/basic/historical/travel",method:"get",params:t})}function p(t){return Object(i["a"])({url:"/basic/today/income",method:"get",params:t})}function m(t){return Object(i["a"])({url:"/predict",method:"get",params:t})}},"970b":function(t,e,a){},a7dc:function(t,e,a){"use strict";var i=a("ed08");e["a"]={data:function(){return{$_sidebarElm:null,$_resizeHandler:null}},mounted:function(){var t=this;this.$_resizeHandler=Object(i["a"])((function(){t.chart&&t.chart.resize()}),100),this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},beforeDestroy:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},activated:function(){this.$_initResizeEvent(),this.$_initSidebarResizeEvent()},deactivated:function(){this.$_destroyResizeEvent(),this.$_destroySidebarResizeEvent()},methods:{$_initResizeEvent:function(){window.addEventListener("resize",this.$_resizeHandler)},$_destroyResizeEvent:function(){window.removeEventListener("resize",this.$_resizeHandler)},$_sidebarResizeHandler:function(t){"width"===t.propertyName&&this.$_resizeHandler()},$_initSidebarResizeEvent:function(){this.$_sidebarElm=document.getElementsByClassName("sidebar-container")[0],this.$_sidebarElm&&this.$_sidebarElm.addEventListener("transitionend",this.$_sidebarResizeHandler)},$_destroySidebarResizeEvent:function(){this.$_sidebarElm&&this.$_sidebarElm.removeEventListener("transitionend",this.$_sidebarResizeHandler)}}}},cdfd:function(t,e,a){},d539:function(t,e,a){"use strict";a("cdfd")},ebdd:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:t.className,style:{height:t.height,width:t.width}})},n=[],s=a("313e"),r=a.n(s),o=a("a7dc"),l=a("5f87"),c=a("95d5");a("817d");var u={mixins:[o["a"]],props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.$nextTick((function(){t.initChart()}))},beforeDestroy:function(){this.chart&&(this.chart.dispose(),this.chart=null)},methods:{initChart:function(){var t=this;this.chart=r.a.init(this.$el,"macarons");var e={itemStyle:{shadowBlur:10,shadowColor:"rgba(0,0,0,0.3)"}};Object(c["h"])(Object(l["a"])(),1).then((function(a){t.chart.setOption({title:{text:"断面客流",left:"center"},legend:{data:["in","out"],left:"left"},tooltip:{},xAxis:{data:a.station,name:"station",axisLine:{onZero:!0},splitLine:{show:!1},splitArea:{show:!1}},yAxis:{},grid:{bottom:100},series:[{name:"in",type:"bar",stack:"one",emphasis:e,data:a.in_list},{name:"out",type:"bar",stack:"two",emphasis:e,data:a.out_list}]})}))}}},d=u,h=a("2877"),p=Object(h["a"])(d,i,n,!1,null,null,null);e["a"]=p.exports},ec1b:function(t,e,a){!function(e,a){t.exports=a()}(0,(function(){return function(t){function e(i){if(a[i])return a[i].exports;var n=a[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,i){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var i=a(4)(a(1),a(5),null,null);t.exports=i.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,i){return a*(1-Math.pow(2,-10*t/i))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,i.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,i.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,i.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,i.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,i.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals),t+="";var e=t.split("."),a=e[0],i=e.length>1?this.decimal+e[1]:"",n=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;n.test(a);)a=a.replace(n,"$1"+this.separator+"$2");return this.prefix+a+i+this.suffix}},destroyed:function(){(0,i.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(0),n=function(t){return t&&t.__esModule?t:{default:t}}(i);e.default=n.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",n.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0,n="webkit moz ms o".split(" "),s=void 0,r=void 0;if("undefined"==typeof window)e.requestAnimationFrame=s=function(){},e.cancelAnimationFrame=r=function(){};else{e.requestAnimationFrame=s=window.requestAnimationFrame,e.cancelAnimationFrame=r=window.cancelAnimationFrame;for(var o=void 0,l=0;l<n.length&&(!s||!r);l++)o=n[l],e.requestAnimationFrame=s=s||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=r=r||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];s&&r||(e.requestAnimationFrame=s=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-i)),n=window.setTimeout((function(){t(e+a)}),a);return i=e+a,n},e.cancelAnimationFrame=r=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=s,e.cancelAnimationFrame=r},function(t,e){t.exports=function(t,e,a,i){var n,s=t=t||{},r=typeof t.default;"object"!==r&&"function"!==r||(n=t,s=t.default);var o="function"==typeof s?s.options:s;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),i){var l=Object.create(o.computed||null);Object.keys(i).forEach((function(t){var e=i[t];l[t]=function(){return e}})),o.computed=l}return{esModule:n,exports:s,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])}))}}]);